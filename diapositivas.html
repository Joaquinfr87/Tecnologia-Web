<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentaci贸n: Tecnolog铆a Web e IA (Visual)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        /* Animation Classes */
        .fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .slide-in-right {
            opacity: 0;
            transform: translateX(30px);
            animation: slideInRight 0.8s ease-out forwards;
        }

        /* Staggered delays */
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInRight {
            to { opacity: 1; transform: translateX(0); }
        }

        .gradient-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
        }

        /* Glassmorphism */
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Scrollbar for AI panel */
        .ai-scroll::-webkit-scrollbar { width: 6px; }
        .ai-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
        .ai-scroll::-webkit-scrollbar-thumb { background: rgba(103, 232, 249, 0.5); border-radius: 3px; }

        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        /* Image hover effect */
        .slide-image {
            transition: transform 0.5s ease;
        }
        .slide-image:hover {
            transform: scale(1.02);
        }
    </style>
</head>
<body class="bg-gray-900 text-white h-screen flex flex-col overflow-hidden relative">

    <!-- Header / Progress -->
    <div class="w-full bg-gray-800 h-1.5 z-20">
        <div id="progress-bar" class="h-full bg-gradient-to-r from-cyan-400 to-purple-500 transition-all duration-500" style="width: 0%"></div>
    </div>

    <!-- AI Side Panel -->
    <div id="ai-panel" class="absolute top-0 right-0 h-full w-full md:w-[400px] bg-[#0B1120]/95 backdrop-blur-xl border-l border-white/10 shadow-2xl z-40 transform translate-x-full transition-transform duration-300 flex flex-col pt-20 pb-4 px-6">
        <div class="flex justify-between items-center mb-6 border-b border-white/10 pb-4">
            <h3 class="text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400">
                <i class="fas fa-brain mr-2"></i>Gemini Assistant
            </h3>
            <button onclick="toggleAIPanel()" class="text-gray-400 hover:text-white transition">
                <i class="fas fa-times text-lg"></i>
            </button>
        </div>

        <!-- Chat Area -->
        <div id="ai-messages" class="flex-grow overflow-y-auto ai-scroll space-y-4 mb-4 pr-2">
            <div class="bg-white/5 p-4 rounded-xl border border-white/5 text-sm text-gray-300 shadow-sm">
                 Hola. Soy tu copiloto inteligente. Puedo analizar la diapositiva actual o responder tus dudas sobre el tema.
            </div>
        </div>

        <!-- AI Loading -->
        <div id="ai-loading" class="hidden flex justify-center items-center p-4 space-x-1.5 mb-2">
            <div class="w-2 h-2 bg-cyan-400 rounded-full typing-dot"></div>
            <div class="w-2 h-2 bg-purple-400 rounded-full typing-dot"></div>
            <div class="w-2 h-2 bg-cyan-400 rounded-full typing-dot"></div>
        </div>

        <!-- Controls -->
        <div class="space-y-3">
            <button onclick="askGeminiDeepDive()" class="w-full bg-gradient-to-r from-cyan-600/20 to-purple-600/20 hover:from-cyan-600/30 hover:to-purple-600/30 border border-cyan-500/30 py-3 rounded-xl transition text-sm font-semibold flex justify-center items-center gap-2 group text-cyan-100 shadow-lg">
                <i class="fas fa-lightbulb text-yellow-300 group-hover:scale-110 transition-transform"></i> Analizar esta diapositiva
            </button>
            
            <div class="relative group">
                <input type="text" id="user-query" placeholder="Pregunta algo..." 
                    class="w-full bg-black/40 border border-white/10 rounded-xl pl-4 pr-12 py-3.5 text-sm focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 transition text-white placeholder-gray-500"
                    onkeypress="if(event.key === 'Enter') askGeminiCustom()">
                <button onclick="askGeminiCustom()" class="absolute right-2 top-2 text-gray-400 hover:text-cyan-400 p-1.5 rounded-lg hover:bg-white/5 transition">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Main Slide Container -->
    <main class="flex-grow flex items-center justify-center p-4 md:p-12 relative gradient-bg overflow-hidden" id="main-content">
        
        <!-- Background Orbs -->
        <div class="absolute top-0 left-0 w-96 h-96 bg-purple-600/20 rounded-full blur-[100px] -translate-x-1/2 -translate-y-1/2 pointer-events-none"></div>
        <div class="absolute bottom-0 right-0 w-[500px] h-[500px] bg-cyan-600/10 rounded-full blur-[120px] translate-x-1/3 translate-y-1/3 pointer-events-none"></div>

        <!-- Nav Buttons -->
        <button onclick="prevSlide()" class="hidden md:flex absolute left-8 top-1/2 -translate-y-1/2 w-12 h-12 items-center justify-center rounded-full bg-white/5 hover:bg-white/10 border border-white/10 backdrop-blur text-white/70 hover:text-white transition z-10 group">
            <i class="fas fa-chevron-left text-xl group-hover:-translate-x-1 transition-transform"></i>
        </button>
        <button onclick="nextSlide()" class="hidden md:flex absolute right-8 top-1/2 -translate-y-1/2 w-12 h-12 items-center justify-center rounded-full bg-white/5 hover:bg-white/10 border border-white/10 backdrop-blur text-white/70 hover:text-white transition z-10 group">
            <i class="fas fa-chevron-right text-xl group-hover:translate-x-1 transition-transform"></i>
        </button>

        <!-- Slide Area -->
        <div id="slide-container" class="w-full max-w-7xl h-[80vh] md:h-[75vh] flex relative">
            <!-- Injected via JS -->
        </div>

    </main>

    <!-- Mobile Controls -->
    <div class="md:hidden bg-[#0B1120] border-t border-white/10 p-4 flex justify-between items-center z-30">
        <button onclick="prevSlide()" class="px-5 py-2.5 bg-gray-800 rounded-lg text-sm font-medium">Anterior</button>
        <span id="mobile-counter" class="text-xs font-mono text-cyan-400 bg-cyan-400/10 px-2 py-1 rounded">1 / 12</span>
        <button onclick="nextSlide()" class="px-5 py-2.5 bg-gradient-to-r from-cyan-600 to-blue-600 rounded-lg text-sm font-bold shadow-lg shadow-cyan-900/50">Siguiente</button>
    </div>

    <script>
        const apiKey = ""; // Runtime key

        // Enhanced Data with Images
        const slides = [
            {
                type: "title",
                title: "La Convergencia Web + IA",
                subtitle: "Transformaci贸n Digital, UX y el Futuro de la Interacci贸n",
                author: "Informe T茅cnico 2025",
                image: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=1200&q=80",
                icon: "fa-network-wired"
            },
            {
                type: "content",
                title: "1. Introducci贸n",
                subtitle: "De la Web Est谩tica a la Cognitiva",
                content: "La Web ha evolucionado de ser un repositorio pasivo a un ecosistema inteligente y proactivo.",
                points: [
                    "Web Tradicional: Informaci贸n est谩tica y enlaces.",
                    "Web + IA: Sistemas que aprenden y predicen.",
                    "Sinergia: La IA es el nuevo motor, no un accesorio.",
                    "Objetivo: Analizar impacto en UX, Ops y tica."
                ],
                image: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&q=80",
                icon: "fa-globe"
            },
            {
                type: "content",
                title: "2. Datos: El Combustible",
                subtitle: "Procesamiento en Tiempo Real",
                content: "La capacidad de procesar Big Data instant谩neamente es lo que hace posible la magia.",
                points: [
                    "Huella Digital: Cada clic alimenta al modelo.",
                    "Machine Learning: Mejora continua con el uso.",
                    "Decisiones en ms: Personalizaci贸n instant谩nea.",
                    "Contexto: Ubicaci贸n, dispositivo e historial."
                ],
                image: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&q=80",
                icon: "fa-database"
            },
            {
                type: "content",
                title: "3. Revoluci贸n UX",
                subtitle: "Hiper-Personalizaci贸n",
                content: "El fin de la experiencia 'talla 煤nica'. La web se adapta a ti.",
                points: [
                    "Motores de Recomendaci贸n: Netflix, Spotify.",
                    "Predicci贸n: Saber qu茅 quieres antes de buscar.",
                    "Retenci贸n: +18% en engagement (Chen & Wu, 2024).",
                    "Dise帽o Din谩mico: Interfaces que mutan seg煤n el usuario."
                ],
                image: "https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&q=80",
                icon: "fa-user-check"
            },
            {
                type: "content",
                title: "4. Interacci贸n Natural",
                subtitle: "Chatbots y Accesibilidad",
                content: "Hablar con la web es la nueva normalidad gracias al PLN.",
                points: [
                    "PLN Avanzado: Entendimiento contextual profundo.",
                    "Asistentes 24/7: Resoluci贸n compleja sin humanos.",
                    "Accesibilidad: Subt铆tulos y traducci贸n en vivo.",
                    "Inclusi贸n: Rompiendo barreras f铆sicas."
                ],
                image: "https://images.unsplash.com/photo-1531746790731-6c087fecd65a?w=800&q=80",
                icon: "fa-robot"
            },
            {
                type: "content",
                title: "5. IA en el Backend",
                subtitle: "Infraestructura Inteligente",
                content: "La optimizaci贸n invisible que mantiene la web r谩pida y estable.",
                points: [
                    "Auto-Scaling: Predicci贸n de picos de tr谩fico.",
                    "Ahorro de Costos: Gesti贸n eficiente de la nube.",
                    "Mantenimiento Predictivo: Arreglar antes de romper.",
                    "DB Optimization: Consultas m谩s r谩pidas."
                ],
                image: "https://images.unsplash.com/photo-1523961131990-5ea7c61b2107?w=800&q=80",
                icon: "fa-server"
            },
            {
                type: "content",
                title: "6. Ciberseguridad",
                subtitle: "Defensa Proactiva",
                content: "Sistemas inmunol贸gicos digitales que aprenden de los ataques.",
                points: [
                    "Detecci贸n de Anomal铆as: Patrones vs Firmas.",
                    "Anti-Bot: Verificaci贸n de comportamiento humano.",
                    "Zero-Day: Bloqueo de amenazas desconocidas.",
                    "Respuesta Autom谩tica: Aislamiento inmediato."
                ],
                image: "https://images.unsplash.com/photo-1563986768609-322da13575f3?w=800&q=80",
                icon: "fa-shield-alt"
            },
            {
                type: "content",
                title: "7. IA en Frontend (AIGC)",
                subtitle: "Desarrollo Acelerado",
                content: "Generative AI est谩 reescribiendo c贸mo construimos software.",
                points: [
                    "Copilotos de C贸digo: GitHub Copilot, Cursor.",
                    "Dise帽o Generativo: De texto a UI (v0, Galileo).",
                    "No-Code Inteligente: Democratizaci贸n total.",
                    "Foco Creativo: Menos sintaxis, m谩s l贸gica."
                ],
                image: "https://images.unsplash.com/photo-1587620962725-abab7fe55159?w=800&q=80",
                icon: "fa-code"
            },
            {
                type: "content",
                title: "8. Desaf铆o tico I",
                subtitle: "Privacidad vs. Comodidad",
                content: "El costo oculto de la personalizaci贸n extrema.",
                points: [
                    "La Paradoja: Queremos magia pero tememos vigilancia.",
                    "Rastreo Masivo: Cookies, fingerprinting.",
                    "RGPD: 驴C贸mo olvidar datos en una red neuronal?",
                    "Consentimiento: Necesidad de transparencia real."
                ],
                image: "https://images.unsplash.com/photo-1603899122634-f086ca5f5ddd?w=800&q=80",
                icon: "fa-user-secret"
            },
            {
                type: "content",
                title: "9. Desaf铆o tico II",
                subtitle: "Sesgo Algor铆tmico",
                content: "Cuando las m谩quinas heredan nuestros prejuicios.",
                points: [
                    "Datos Sucios: Entrenar con el pasado repite errores.",
                    "Caja Negra: Decisiones inexplicables.",
                    "XAI (Explainable AI): El derecho a entender 'por qu茅'.",
                    "Equidad: Auditor铆as constantes necesarias."
                ],
                image: "https://images.unsplash.com/photo-1507146426996-ef05306b995a?w=800&q=80",
                icon: "fa-balance-scale"
            },
            {
                type: "content",
                title: "10. El Futuro",
                subtitle: "La Web Aut贸noma",
                content: "Hacia la Web 3.0 impulsada por agentes inteligentes.",
                points: [
                    "Agentes Aut贸nomos: Negocian y act煤an por ti.",
                    "Interfaces L铆quidas: Webs generadas en tiempo real.",
                    "Multimodalidad: Voz, gesto y pensamiento.",
                    "Socio Activo: De herramienta a colaborador."
                ],
                image: "https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=800&q=80",
                icon: "fa-rocket"
            },
            {
                type: "content",
                title: "11. Conclusiones",
                subtitle: "S铆ntesis Final",
                content: "La integraci贸n es inevitable, pero debe ser responsable.",
                points: [
                    "Transformaci贸n Total: UX + Operaciones.",
                    "Eficiencia: El gran beneficio.",
                    "tica: El gran desaf铆o.",
                    "Visi贸n: Tecnolog铆a centrada en el humano."
                ],
                image: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&q=80",
                icon: "fa-check-circle"
            }
        ];

        let currentSlide = 0;
        let isPanelOpen = false;

        function renderSlide() {
            const container = document.getElementById('slide-container');
            const slide = slides[currentSlide];
            const progressBar = document.getElementById('progress-bar');
            const mobileCounter = document.getElementById('mobile-counter');

            // Progress
            const progress = ((currentSlide + 1) / slides.length) * 100;
            progressBar.style.width = `${progress}%`;
            if(mobileCounter) mobileCounter.innerText = `${currentSlide + 1} / ${slides.length}`;

            // Generate HTML based on slide type
            let html = '';

            if (slide.type === 'title') {
                html = `
                    <div class="glass-panel w-full h-full rounded-3xl p-8 md:p-12 flex flex-col md:flex-row items-center justify-between gap-12 overflow-hidden relative fade-in-up">
                        
                        <div class="absolute inset-0 z-0 opacity-20">
                            <img src="${slide.image}" class="w-full h-full object-cover">
                        </div>
                        <div class="absolute inset-0 bg-gradient-to-r from-[#0B1120] via-[#0B1120]/90 to-transparent z-10"></div>

                        <div class="relative z-20 md:w-1/2 space-y-6 text-left">
                            <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 shadow-lg shadow-cyan-500/30 mb-4 delay-100 fade-in-up">
                                <i class="fas ${slide.icon} text-3xl text-white"></i>
                            </div>
                            <h1 class="text-4xl md:text-6xl font-bold leading-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 delay-200 fade-in-up">
                                ${slide.title}
                            </h1>
                            <p class="text-xl text-cyan-200 font-light delay-300 fade-in-up">
                                ${slide.subtitle}
                            </p>
                            <div class="h-1 w-20 bg-cyan-500 rounded delay-400 fade-in-up"></div>
                            <p class="text-gray-400 pt-4 delay-500 fade-in-up">
                                ${slide.author}
                            </p>
                        </div>

                        <div class="relative z-20 hidden md:block w-1/2 h-full">
                            <img src="${slide.image}" class="w-full h-full object-cover rounded-2xl shadow-2xl border border-white/10 slide-image slide-in-right delay-300 mask-image">
                        </div>
                    </div>
                `;
            } else {
                // Content Slide Layout
                html = `
                    <div class="glass-panel w-full h-full rounded-3xl flex flex-col md:flex-row overflow-hidden shadow-2xl">
                        
                        <!-- Left Content -->
                        <div class="w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center relative z-20 bg-[#0B1120]/80 backdrop-blur-md">
                            <div class="fade-in-up">
                                <div class="flex items-center gap-3 mb-2 text-cyan-400 font-bold uppercase tracking-wider text-xs">
                                    <i class="fas ${slide.icon}"></i>
                                    <span>Secci贸n ${currentSlide}</span>
                                </div>
                                <h2 class="text-3xl md:text-4xl font-bold text-white mb-2 leading-tight">${slide.title}</h2>
                                <h3 class="text-xl text-gray-400 mb-6 font-light">${slide.subtitle}</h3>
                                
                                <p class="text-lg text-gray-300 mb-8 border-l-4 border-cyan-500 pl-4 italic">
                                    "${slide.content}"
                                </p>

                                <ul class="space-y-4">
                                    ${slide.points.map((point, index) => `
                                        <li class="flex items-start gap-3 fade-in-up" style="animation-delay: ${0.2 + (index * 0.1)}s">
                                            <div class="mt-1.5 min-w-[6px] h-[6px] rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"></div>
                                            <span class="text-gray-200 text-lg leading-relaxed">${point}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>

                        <!-- Right Image -->
                        <div class="hidden md:block w-1/2 relative overflow-hidden h-full">
                            <div class="absolute inset-0 bg-gradient-to-l from-transparent to-[#0B1120] z-10 w-24"></div>
                            <img src="${slide.image}" class="w-full h-full object-cover slide-in-right delay-200 slide-image">
                        </div>

                        <!-- Mobile Image Background (Overlay) -->
                        <div class="md:hidden absolute inset-0 z-0 opacity-10">
                            <img src="${slide.image}" class="w-full h-full object-cover">
                        </div>
                    </div>
                `;
            }

            // Inject
            // Reset animations by cloning logic or innerHTML swap
            container.innerHTML = '';
            setTimeout(() => {
                container.innerHTML = html;
            }, 10);
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                currentSlide++;
                renderSlide();
                if(isPanelOpen) addAIMessage("system", "Analizando diapositiva: " + slides[currentSlide].title);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                renderSlide();
                if(isPanelOpen) addAIMessage("system", "Regresando a: " + slides[currentSlide].title);
            }
        }

        // --- AI Logic (Same as before) ---
        function toggleAIPanel() {
            const panel = document.getElementById('ai-panel');
            isPanelOpen = !isPanelOpen;
            if (isPanelOpen) {
                panel.classList.remove('translate-x-full');
            } else {
                panel.classList.add('translate-x-full');
            }
        }

        function addAIMessage(role, text) {
            const msgContainer = document.getElementById('ai-messages');
            const div = document.createElement('div');
            
            if (role === 'user') {
                div.className = "bg-cyan-600/20 p-3 rounded-xl border border-cyan-500/30 text-sm text-white self-end ml-8 shadow-sm";
                div.innerHTML = `<span class="font-bold text-cyan-300 block text-xs mb-1">T煤</span> ${text}`;
            } else if (role === 'system') {
                div.className = "text-[10px] text-gray-500 uppercase tracking-widest text-center my-3";
                div.innerText = text;
            } else {
                div.className = "bg-white/5 p-4 rounded-xl border border-white/5 text-sm text-gray-200 mr-4 shadow-sm";
                const formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong class="text-purple-300">$1</strong>');
                div.innerHTML = `<span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400 block text-xs mb-1"><i class="fas fa-sparkles mr-1"></i> Gemini</span> ${formattedText}`;
            }
            
            msgContainer.appendChild(div);
            msgContainer.scrollTop = msgContainer.scrollHeight;
        }

        async function callGeminiAPI(prompt) {
            const loading = document.getElementById('ai-loading');
            loading.classList.remove('hidden');
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });
                
                const data = await response.json();
                loading.classList.add('hidden');
                
                if (data.error) throw new Error(data.error.message);
                
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                loading.classList.add('hidden');
                console.error("Error calling Gemini:", error);
                return "Error de conexi贸n con la IA. Int茅ntalo de nuevo.";
            }
        }

        async function askGeminiDeepDive() {
            if (!isPanelOpen) toggleAIPanel();
            const slide = slides[currentSlide];
            const context = `Contexto: Presentaci贸n Web e IA. Slide: "${slide.title}". Puntos: ${slide.points}. Tarea: Dame un dato curioso o ejemplo real breve sobre esto en Espa帽ol.`;
            
            addAIMessage('user', "Analiza esta diapositiva.");
            const response = await callGeminiAPI(context);
            addAIMessage('ai', response);
        }

        async function askGeminiCustom() {
            const input = document.getElementById('user-query');
            const query = input.value.trim();
            if (!query) return;
            
            input.value = '';
            if (!isPanelOpen) toggleAIPanel();
            
            const slide = slides[currentSlide];
            const context = `Contexto: Slide "${slide.title}". Pregunta usuario: "${query}". Responde brevemente en Espa帽ol.`;

            addAIMessage('user', query);
            const response = await callGeminiAPI(context);
            addAIMessage('ai', response);
        }

        // Init
        renderSlide();

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowRight') nextSlide();
            if(e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>
